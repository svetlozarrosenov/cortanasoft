'use client';

import React, { useState } from 'react';
import styles from './faq.module.css';
import { ChevronDown } from 'lucide-react';

const FAQ: React.FC = () => {
  const [openQuestion, setOpenQuestion] = useState<number | null>(null);

  const questions = [
    {
      question: "Как работи алармената система без SIM карта?",
      answer: "Нашата система използва мрежа от приемници, стратегически разположени в града. Когато алармата се активира, сигналът се предава през тези приемници до нашите сървъри, откъдето получавате известие на телефона си. Не е необходима SIM карта, което означава никакви месечни такси за мобилни услуги."
    },
    {
      question: "Какъв е обхватът на системата?",
      answer: "Обхватът зависи от гъстотата на приемниците в района. В градска среда обикновено е между 1 и 5 километра. С всеки нов клиент мрежата се разширява, увеличавайки покритието. При закупуване на устройство, получавате и приемник, който разширява мрежата в района ви."
    },
    {
      question: "Как да инсталирам мобилното приложение?",
      answer: "Нашето приложение е Progressive Web App (PWA). За да го инсталирате: 1) Отворете нашия сайт в браузъра на телефона си, 2) Ще видите опция 'Добави към начален екран', 3) Натиснете я и приложението ще се инсталира автоматично. Поддържа се на Android 5.0+ и iOS 16.4+."
    },
    {
      question: "Колко време издържа батерията?",
      answer: "Благодарение на нашата енергийно ефективна технология, сензорът работи до 6 дни с едно зареждане. Зареждането става лесно с Type-C кабел (5V) и отнема около 2 часа за пълно зареждане."
    },
    {
      question: "Как се настройва приемникът?",
      answer: "Настройката е много проста: 1) Включете приемника в контакта, 2) Свържете се към WiFi мрежата 'sentinel_config', 3) Отворете който и да е сайт - ще бъдете пренасочени към конфигурационния панел, 4) Изберете вашата домашна WiFi мрежа и въведете паролата. Готово!"
    },
    {
      question: "Какви гаранции получавам?",
      answer: "Предлагаме 2-годишна гаранция на всички устройства, която включва безплатна подмяна при фабрични дефекти. Освен това имате достъп до денонощна техническа поддръжка по телефона и безплатно посещение на адрес при проблеми (в София)."
    },
    {
      question: "Мога ли да използвам системата извън града?",
      answer: "Да, системата работи и извън града, но обхватът може да варира в зависимост от терена и наличието на приемници в района. За оптимална работа препоръчваме да инсталирате приемника на видимо място с добра WiFi връзка."
    },
    {
      question: "Какво се случва при прекъсване на интернет връзката?",
      answer: "Приемникът ще запамети всички събития, които са се случили докато е бил офлайн, и ще ги изпрати веднага щом връзката се възстанови. Сензорът продължава да работи нормално, независимо от интернет връзката."
    }
  ];

  const toggleQuestion = (index: number) => {
    setOpenQuestion(openQuestion === index ? null : index);
  };

  return (
    <>
      <div className={styles.faqContainer}>
        <h1 className={styles.title}>
          Често задавани <span>въпроси</span>
        </h1>
        <p className={styles.subtitle}>
          Тук ще намерите отговори на най-често задаваните въпроси за нашата система.
          Ако не откриете отговора, който търсите, не се колебайте да се свържете с нас.
        </p>
        
        <div className={styles.faqSection}>
          {questions.map((item, index) => (
            <div key={index} className={styles.faqItem}>
              <button
                className={`${styles.questionButton} ${openQuestion === index ? styles.open : ''}`}
                onClick={() => toggleQuestion(index)}
              >
                {item.question}
                <ChevronDown size={20} color="#6e8efb" />
              </button>
              <div className={`${styles.answer} ${openQuestion === index ? styles.open : ''}`}>
                {item.answer}
              </div>
            </div>
          ))}
        </div>
      </div>
    </>
  );
};

export default FAQ;